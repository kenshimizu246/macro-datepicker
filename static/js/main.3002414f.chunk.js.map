{"version":3,"sources":["left-arrow.svg","right-arrow.svg","utils.js","macro-date-input.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","isBz","v","fmt","holidays","moment","isMoment","isoWeekday","format","m2d","weeks","match","n","Number","m","t","add","month","subtract","i","d","w","f","k","MacroDateInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","monthFormat","dateFormat","defaultValue","state","value","macro","calendar","open","e","setState","currentTarget","id","target","console","log","key","header","_this2","date","react_default","a","createElement","className","mstr","dd","sm","clone","days","opts","map","year","dt","startOf","day","cls","onClick","selectedDate","bind","thisMonth","prevMonth","src","larrow","alt","name","onChange","monthSelected","nextMonth","rarrow","openOnFocus","doClickCalendar","type","onKeyPress","handleKeyPress","onBlur","handleBlur","onFocus","handleOnFocus","handleInputChange","dateInput","renderDateInput","renderCalendar","Component","Boolean","window","location","hostname","ReactDOM","render","macro_date_input","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3002414f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/left-arrow.c1c96d64.svg\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.bab52b5d.svg\";","import moment from 'moment';\n\nexport const isBz = (v) => {\n\tvar fmt = \"MM/DD/YYYY\";\n\tvar holidays = {};\n\tholidays[\"01/01/2019\"] = moment(\"01/01/2019\", fmt);\n\tholidays[\"01/14/2019\"] = moment(\"01/14/2019\", fmt);\n\tholidays[\"02/11/2019\"] = moment(\"02/11/2019\", fmt);\n\tholidays[\"03/21/2019\"] = moment(\"03/21/2019\", fmt);\n\tholidays[\"04/29/2019\"] = moment(\"04/29/2019\", fmt);\n\tholidays[\"04/30/2019\"] = moment(\"04/30/2019\", fmt);\n\tholidays[\"05/01/2019\"] = moment(\"05/01/2019\", fmt);\n\tholidays[\"05/02/2019\"] = moment(\"05/02/2019\", fmt);\n\tholidays[\"05/03/2019\"] = moment(\"05/03/2019\", fmt);\n\tholidays[\"05/06/2019\"] = moment(\"05/06/2019\", fmt);\n\tholidays[\"07/15/2019\"] = moment(\"07/15/2019\", fmt);\n\tholidays[\"08/12/2019\"] = moment(\"08/12/2019\", fmt);\n\tholidays[\"09/16/2019\"] = moment(\"09/16/2019\", fmt);\n\tholidays[\"09/23/2019\"] = moment(\"09/23/2019\", fmt);\n\tholidays[\"10/14/2019\"] = moment(\"10/14/2019\", fmt);\n\tholidays[\"10/22/2019\"] = moment(\"10/22/2019\", fmt);\n\tholidays[\"11/04/2019\"] = moment(\"11/04/2019\", fmt);\n\tholidays[\"11/23/2019\"] = moment(\"11/23/2019\", fmt);\n\n\tif(moment.isMoment(v)){\n\t\tif(v.isoWeekday() === 7 || v.isoWeekday() === 6){\n\t\t\treturn false;\n\t\t}\n\t\tif(holidays[v.format(fmt)]){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n/***\nMacro\n\n5d : 5 days and next day if holiday\n5bd : 5 biz days\n5m : 5 months and next day if holiday\neom : end of month\n\n***/\nexport const m2d = (v) => {\n\tvar weeks = [\"na\",\"mo\",\"tu\",\"we\",\"th\",\"fr\",\"st\",\"su\"];\n\tif(typeof(v) === 'string'){\n\t\tif(v.match(/^\\d+m$/i)){\n\t\t\tvar n = Number(v.match(/^\\d+/));\n\t\t\tvar t = moment();\n\t\t\tt = t.add(n, \"M\");\n\t\t\tvar m = t.month();\n\n\t\t\twhile(!isBz(t)){\n\t\t\t\tt = t.add(1, \"d\");\n\t\t\t}\n\t\t\tif(m != t.month()){\n\t\t\t\tt = moment().add(n, \"M\");\n\t\t\t\twhile(!isBz(t)){\n\t\t\t\t\tt = t.subtract(1, \"d\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\n\t\t} else if(v.match(/^\\d+d$/i)){\n\t\t\tvar n = Number(v.match(/^\\d+/));\n\t\t\tvar t = moment();\n\t\t\tt.add(Number(n), \"d\");\n\t\t\twhile(!isBz(t)){\n\t\t\t\tt.add(1, \"d\");\n\t\t\t}\n\t\t\treturn t;\n\t\t} else if(v.match(/^\\d+bd$/i)){\n\t\t\tvar n = Number(v.match(/^\\d+/));\n\t\t\tvar t = moment();\n\t\t\tvar i = 0;\n\n\t\t\twhile(i < n){\n\t\t\t\tt = t.add(1, \"d\");\n\t\t\t\tif(isBz(t)){\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\n\t\t} else if(v.match(/^\\d+m\\d+$/i)){\n\t\t\tvar n = Number(v.match(/^\\d+/));\n\t\t\tvar d = v.match(/\\d+$/);\n\t\t\tvar t = moment();\n\t\t\tt = t.add(n, \"M\");\n\t\t\tt = moment(t.format(\"YYYY-MM-\")+d, \"YYYY-MM-DD\");\n\t\t\tvar m = t.month();\n\n\t\t\twhile(!isBz(t)){\n\t\t\t\tt = t.add(1, \"d\");\n\t\t\t}\n\t\t\tif(m != t.month()){\n\t\t\t\tt = moment().add(n, \"M\");\n\t\t\t\twhile(!isBz(t)){\n\t\t\t\t\tt = t.subtract(1, \"d\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\n\t\t} else if(v.match(/^\\d+m\\d\\w{2,3}$/i)){\n\t\t\tvar n = Number(v.match(/^\\d+/));\n\t\t\tvar w = v.match(/\\d+\\w{2,3}$/); //su,mo,tu,we,th,fr,st\n\t\t\tvar t = moment();\n\t\t\tt = t.add(n, \"M\");\n\t\t\tt = moment(t.format(\"YYYY-MM-01\"), \"YYYY-MM-DD\");\n\t\t\tvar m = t.month();\n\n\t\t\tvar f = weeks[t.isoWeekday()];\n\t\t\tvar i = 0;\n\n\t\t\tfor(var k = 1; k <= 31; k++){\n\t\t\t\tif(weeks[t.isoWeekday()] === f){\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tif(w == (i+weeks[t.isoWeekday()])){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tt = t.add(1, \"d\");\n\t\t\t}\n\n\t\t\twhile(!isBz(t)){\n\t\t\t\tt = t.add(1, \"d\");\n\t\t\t}\n\t\t\tif(m != t.month()){\n\t\t\t\tt = moment().add(n, \"M\");\n\t\t\t\twhile(!isBz(t)){\n\t\t\t\t\tt = t.subtract(1, \"d\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn t;\n\t\t}\n\t}\n\treturn v;\n}\n\n\n","import React, { Component } from 'react';\nimport larrow from './left-arrow.svg';\nimport rarrow from './right-arrow.svg';\nimport './calendar.css';\n\nimport moment from 'moment';\nimport {isBz, m2d} from './utils';\n\nclass MacroDateInput extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.monthFormat = \"\";\n\t\tvar d;\n\t\tif(!props.dateFormat){\n//\t\t\tthis.props.dateFormat = \"YYYY-MM-DD\";\n\t\t}\n\n\t\tif(props.defaultValue){\n\t\t\td = moment(props.defaultValue, this.props.dateFormat);\n\t\t}\telse {\n\t\t\td = moment();\n\t\t}\n\t\t\t//value: moment().format(this.props.dateFormat),\n\t\tthis.state = {\n\t\t\tvalue: moment().format(\"YYYY-MM-DD\"),\n\t\t\tmacro: \"\",\n\t\t\tcalendar: moment().format(\"YYYY-MM-01\"),\n\t\t\topen: false\n\t\t};\n\t}\n\n\tnextMonth(e){\n\t\tvar d = moment(this.state.calendar, \"YYYY-MM-01\");\n\t\td = d.add(1, 'months');\n\t\tthis.setState({calendar: d.format(\"YYYY-MM-01\")});\n\t}\n\n\tprevMonth(e){\n\t\tvar d = moment(this.state.calendar, \"YYYY-MM-01\");\n\t\td = d.subtract(1, 'months');\n\t\tthis.setState({calendar: d.format(\"YYYY-MM-01\")});\n\t}\n\n\tselectedDate(e){\n\t\tvar d = moment(e.currentTarget.id, \"YYYY-MM-DD\");\n\t\tthis.setState({value: d.format(\"YYYY-MM-DD\"),\n\t\t\t\t\t\t\t\t\tcalendar: d.format(\"YYYY-MM-01\"),\n\t\t\t\t\t\t\t\t\tmacro: \"\"});\n\t}\n\n\tmonthSelected(e){\n\t\tvar v = moment(e.currentTarget.value, \"YYYY-MM-01\");\n\t\tthis.setState({calendar: e.currentTarget.value});\n\t}\n\n\tdoClickCalendar(){\n\t\tthis.setState({open: !this.state.open});\n\t}\n\n\thandleInputChange(e){\n\t\tvar v = e.target.value;\n\t\tif(typeof(v) === 'string' && v.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n\t\t\tvar d = moment(v, \"YYYY-MM-DD\");\n\t\t\tthis.setState({value: d.format(\"YYYY-MM-DD\"),\n\t\t\t\t\t\t\t\t\t\tcalendar: d.format(\"YYYY-MM-01\"),\n\t\t\t\t\t\t\t\t\t\tmacro: \"\"});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tvalue: e.target.value\n\t\t\t});\n\t\t}\n\t}\n\n\thandleKeyPress(e){\n\t\tconsole.log(\"key:\"+e.key);\n\t\tvar v = this.state.value;\n\t\tvar d;\n\n\t\tif(e.key == 'Enter'){\n\t\t\td = m2d(v);\n\t\t\tif(moment.isMoment(d)){\n\t\t\t\tthis.setState({value: d.format(\"YYYY-MM-DD\"),\n\t\t\t\t\t\t\t\t\t\t\tcalendar: d.format(\"YYYY-MM-01\"),\n\t\t\t\t\t\t\t\t\t\t\tmacro: v});\n\t\t\t} else {\n\t\t\t\tthis.setState({value: v});\n\t\t\t}\n\t\t} else if(typeof(v) === 'string' && v.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n\t\t\td = moment(v, \"YYYY-MM-DD\");\n\t\t\t\tthis.setState({value: d.format(\"YYYY-MM-DD\"),\n\t\t\t\t\t\t\t\t\t\t\tcalendar: d.format(\"YYYY-MM-01\"),\n\t\t\t\t\t\t\t\t\t\t\tmacro: \"\"});\n\t\t}\n\t}\n\n\thandleBlur(e){\n\t\tvar v = this.state.value;\n\t\tvar d = m2d(v);\n\n\t\tif(typeof(v) === 'string' && v.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n\t\t\td = moment(v, \"YYYY-MM-DD\");\n\t\t\tv = \"\";\n\t\t}\n\n\t\tif(moment.isMoment(d)){\n\t\t\tthis.setState({value: d.format(\"YYYY-MM-DD\"),\n\t\t\t\t\t\t\t\t\t\tcalendar: d.format(\"YYYY-MM-01\"),\n\t\t\t\t\t\t\t\t\t\tmacro: v});\n\t\t} else {\n\t\t\tthis.setState({value: v});\n\t\t}\n\t}\n\n\trenderCalendar(){\n\t\tvar control;\n\t\tvar header;\n\t\tvar date = moment(this.state.calendar, \"YYYY-MM-DD\");\n\n\t\theader = (\n          <div className=\"header\">\n            <div className=\"hcell\">Su</div>\n            <div className=\"hcell\">Mo</div>\n            <div className=\"hcell\">Tu</div>\n            <div className=\"hcell\">We</div>\n            <div className=\"hcell\">Th</div>\n            <div className=\"hcell\">Fr</div>\n            <div className=\"hcell\">Sa</div>\n          </div>\n\t\t);\n\t\tvar mstr = [ \"January\", \"February\", \"March\", \"April\",\n            \"May\", \"June\", \"July\", \"August\", \"September\",\n            \"October\", \"November\", \"December\" ];\n\n\t\tvar dd = [];\n\t\tvar sm = date.clone();\n\t\tsm.subtract(3, 'months');\n\t\tfor(var i = 0; i < 12; i++){\n\t\t\tdd[i] = sm.clone();\n\t\t\tsm = sm.add(1, 'months');\n\t\t}\n\t\tvar opts = dd.map(a => {\n\t\t\treturn (<option value={a.format(\"YYYY-MM-01\")}>{mstr[a.month()] + \" \" + a.year()}</option>);\n\t\t});\n\n\t\tvar days;\t\n\t\tvar dt = date.startOf('month');\n\t\tvar m = dt.month();\n\t\twhile(dt.day() != 0){\n\t\t\tdt = dt.subtract(1, 'days');\n\t\t}\n\n\t\tvar dd = [];\n\t\tfor(var i = 0; i < (7*6); i++){\n\t\t\tdd[i] = dt.clone();\n\t\t\tdt.add(1, 'days');\n\t\t}\n\n\t\tdays = dd.map(d => {\n\t\t\tvar cls = \"rcell\";\n\t\t\tif(!isBz(d)){\n\t\t\t\tcls += \" off\";\n\t\t\t}\n\t\t\tif(m != d.month()){\n\t\t\t\tcls += \" not-this-month\";\n\t\t\t}\n\t\t\tif(d.format(\"YYYY-MM-DD\") === this.state.value) {\n\t\t\t\tcls += \" selected-date\";\n\t\t\t}\n\t\t\treturn (<div className={cls} id={d.format(\"YYYY-MM-DD\")} onClick={this.selectedDate.bind(this)}>{d.format(\"D\")}</div>);\n\t\t});\n\t\tvar thisMonth = this.state.calendar;\n\t\n\t\treturn (\n\t\t\t\t<div className=\"calender\" id=\"calendar\">\n\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t<div className=\"button-prev\" onClick={this.prevMonth.bind(this)}><img src={larrow} className=\"arrow\" alt=\"previous month\" /></div>\n\t\t\t\t\t\t<select name=\"select-month\" value={thisMonth} onChange={this.monthSelected.bind(this)}>\n\t\t\t\t\t\t\t{opts}\n \t\t\t\t\t\t</select>\n\t\t\t\t\t\t<div className=\"button-next\" onClick={this.nextMonth.bind(this)}><img src={rarrow} className=\"arrow\" alt=\"next month\" /></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"main\">\n\t\t\t\t\t\t{header}\n\t\t\t\t\t\t{days}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t);\n\t}\n\n\thandleOnFocus(e){\n\t\tif(this.props.openOnFocus){\n\t\t\tthis.doClickCalendar();\n\t\t}\n\t}\n\n\trenderDateInput(){\n\t\treturn (\n      <div className=\"field-component\">\n        <div className=\"input-field-box\">\n          <input type=\"text\" className=\"input-field\"\n\t\t\t\t\t\tonKeyPress={this.handleKeyPress.bind(this)}\n\t\t\t\t\t\tonBlur={this.handleBlur.bind(this)} // onFocusOut\n\t\t\t\t\t\tonFocus={this.handleOnFocus.bind(this)} // onFocusOut\n\t\t\t\t\t\tonChange={this.handleInputChange.bind(this)}\n\t\t\t\t\t\tvalue={this.state.value}/>\n        </div>\n        <div className=\"button-open\" onClick={this.doClickCalendar.bind(this)}>O</div>\n      </div>\n\t\t);\n\t}\n\n  render() {\n\t\tvar dateInput;\n\t\tvar calendar;\n\t\n\t\tdateInput = this.renderDateInput();\n\t\tif(this.state.open){\n\t\t\tcalendar = this.renderCalendar();\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"calendar-input-field\">\n\t\t\t\t{dateInput}\n\t\t\t\t{calendar}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MacroDateInput;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MacroDateInput from './macro-date-input';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<MacroDateInput />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}